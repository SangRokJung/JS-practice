<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>고해주</title>

</head>
<body>

    <script>

        //  고객으로부터 사용자 계정을 정렬하여 화면에 출력해 달라는 요구사항이 접수되었다 아래 조건에 따라 계정을 
        // 정렬하여 출력하는 코드를 작성하시오.
        const userAccount = [           
            {id : 'hgd', addr : '서울'},
            {id : 'jsh', addr : '경기'},
            {id : 'lss', addr : '부산'},
            {id : 'admin3', addr : '대구'},
            {id : 'ajk', addr : '인천'},
            {id : 'dks', addr : '전남'},
            {id : 'admin2', addr : '전북'},
            {id : 'kmm', addr : '김제'},
            {id : 'uiz', addr : '대전'},
            {id : 'admin1', addr : '광주'} ];


        // > 일반 사용자 계정은 내림차순으로 정렬, admin계정은 오름차순으로 정렬하는 하는 자바스크립트 코드를 작성하시오, 
        // (단 admin계정은 admin1, admin2, admin3이며 배열의 앞쪽에 위치해야한다.)
        const printValue = function(a,b) {          
            
            if ((0 === a.id.indexOf('admin')) && (0 === b.id.indexOf('admin'))) 
            {
                if (a.id > b.id) {
                    return 1;
                }

                else if (a.id < b.id) {
                    return -1;
                }
                
                else (a.id === b.id) 
                {
                    return 0;
                }
                
            }
            
            else if (0 === a.id.indexOf('admin')) {
                return -1;      // a 가 root 나오면 앞으로 보내기
            }

            else if (0 === b.id.indexOf('admin')) {

                return 1;
            }

            else if (a.id > b.id) {
                return -1;
            }

            else if (a.id < b.id) {
                return 1;
            }

            else (a.id === b.id)
            {
            return 0;
            }
        }

        
        let value = userAccount.sort(printValue)
        console.log(value)


        // 2> 아래와 같이 자바스크립트로 소팅한 결과 중 admin 정보와 사용자정보를 각각 table로 출력하는 html코드를 작성하시오. 

        
        // admin 테이블 

        // html 테이블 (thead & tbody) 형태 만들기
        const table_new = document.createElement('table');
        const thead_new = document.createElement('thead');
        const tbody_new = document.createElement('tbody');

        table_new.appendChild(thead_new);
        table_new.appendChild(tbody_new);

        document.body.appendChild(table_new);

        
        // thead 만들기 (ID , NAME) 
        let tr_new = document.createElement('tr');                // head row 'tr' 생성
        let th1_new= document.createElement('th');                // 'th' 생성
        th1_new.innerHTML = '관리자 아이디';                       // 'th'에 값 넣기
        let th2_new= document.createElement('th');
        th2_new.innerHTML = '주소';

  
        tr_new.appendChild(th1_new);                             // tr, th -> thead  
        tr_new.appendChild(th2_new);

        thead_new.appendChild(tr_new);      
        
           
        // tbody 만들기 (id와 name의 value row 생성)
        for (let i = 0; i < value.length; i++)                   // row 생성 loop
        {
            if (value[i].id.indexOf('admin') === 0 ) {
                let tr_new_i = document.createElement('tr');    // row 생성 (tr)
                
                let td1_new_i = document.createElement('td');   // 'ID' row 생성 및 value 삽입
                td1_new_i.innerHTML = value[i].id;

                let td2_new_i = document.createElement('td');   // 'NAME' row 생성 및 value 삽입
                td2_new_i.innerHTML = value[i].addr;
                

                tr_new_i.appendChild(td1_new_i);                 // tr, td -> tbody 
                tr_new_i.appendChild(td2_new_i);
                tbody_new.appendChild(tr_new_i);
            }
        }

       
        
        // user 테이블 
        // html 테이블 (thead & tbody) 형태 만들기
        const table = document.createElement('table');
        const thead = document.createElement('thead');
        const tbody = document.createElement('tbody');

        table.appendChild(thead);
        table.appendChild(tbody);

        document.body.appendChild(table);
        
        // thead 만들기 (ID , NAME) 
        let tr = document.createElement('tr');                   // head row 'tr' 생성
        let th1= document.createElement('th');                   // 'th' 생성
        th1.innerHTML = '관리자 아이디';                          // 'th'에 값 넣기
        let th2= document.createElement('th');
        th2.innerHTML = '주소';

  
        tr.appendChild(th1);        // tr, th -> thead  
        tr.appendChild(th2);

        thead.appendChild(tr);      
        
           
        // tbody 만들기 (id와 name의 value row 생성)
        for (let i = 0; i < value.length; i++)              // row 생성 loop
        {
            if (value[i].id.indexOf('admin') !== 0 ) {
                let tr_i = document.createElement('tr');    // row 생성 (tr)

           
                let td1_i = document.createElement('td');   // 'ID' row 생성 및 value 삽입
                td1_i.innerHTML = value[i].id;

                let td2_i = document.createElement('td');   // 'NAME' row 생성 및 value 삽입
                td2_i.innerHTML = value[i].addr;


                tr_i.appendChild(td1_i);        // tr, td -> tbody 
                tr_i.appendChild(td2_i);
                tbody.appendChild(tr_i);
            }

        }



        // 테이블에 테두리 선 넣기
        const style = document.createElement('style');
        document.head.appendChild(style);        
        style.innerHTML = 'table{ border : 1px solid; border-collapse: collapse; float : left; margin-right:10px;} th, td{ border : 1px solid; }';
    </script>
    
</body>
</html>