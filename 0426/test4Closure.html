<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script>
        

        const et = function (ar) {

            return {

                isEmailFormat : function(email) {

                    if (email.includes('@') === true){
                        
                    const nextV = email.split('@')

                        //.뒤에 입력여부 검사.
                        if (nextV[1].includes('.') === true && nextV[1].length > (nextV[1].indexOf('.') + 1)){

                            let nextS = nextV[1].split('.')
                            let lastword = nextS[nextS.length -1]

                            //마지막에 조건 배열 1 이 입력되었는지 검사.
                            for (let i = 0; i < ar.length; i++){
                                if (lastword === ar[i]){ 
                                    return true;
                                }
                                else{
                                    return false;
                                }
                            }
                        }
                        else{
                            return false;
                        }
                    }
                    else{
                        return false;
                    }
                }
            }     
        }

        document.addEventListener('DOMContentLoaded', () => {

            const input = document.querySelector('input')
            const p = document.querySelector('p'); 

            input.addEventListener('keyup', (event) => {
                    const e1 = et(['com', 'kr', 'net', 'org', 'jp'])
                
                if (true === e1.isEmailFormat(event.currentTarget.value)){
                    p.textContent = `type of the Email`;
                }
                else{
                    p.textContent = `is not type of the Email`;
                }

            });
            
        });


    </script>
</head>
<body>
    <h1>Is this in email format?</h1>
    <input type="text"> E-mail
    <p></p>

</body>
</html>