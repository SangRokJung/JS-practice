<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
   
    <title>Document</title>
</head>
<body>
    <script>
        //closure
        const makeStudent = function (_id, _name, _score)
        {   
            //Deep Copy로 처리한다.
            //L Val = R Val(우선처리)
            _score = [..._score];
            //기능 구현의 일관성이 떨어진다.


            return {
                getId() {
                    return _id;
                },

                setId(id) {
                    _id = id;
                },

                getName() {
                    return _name;
                },

                setName(name) {
                    _name = name;
                },

                getScore() {
                    return _score;
                },

                setScore(score, idx) {
                    _score[idx] = score;
                },

                getAverage() {
                    let total = 0;
                    for (let val of _score)
                    {
                        total = total + val;
                    }
                    return (total/_score.length);
                }
            }
        }

        const score = [90, 87, 77];

        const st1 = makeStudent('JSR', '정상록',score)

        console.log(st1.getScore())
        console.log(st1.getId())
        console.log(st1.getAverage().toFixed(1))

        st1.setScore(100, 1)
        console.log(st1.getScore())
        console.log(st1.getAverage().toFixed(1))

        //(3) [90, 87, 77]
        //JSR
        //84.7
        //(3) [90, 100, 77]
        //89.0
    </script>
</body>
</html>